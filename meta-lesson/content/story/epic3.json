{
  "epicNumber": 3,
  "title": "Epic 3: Visualization",
  "tagline": "Bringing attention to life through clear, educational visual feedback",
  "perspectives": {
    "productManager": {
      "narrative": "Third team-lead read completion files from Epics 1-2, extracting function names and tensor shapes. Visualization and Notebook Integration specialists created four visualization functions handling batch dimension squeezing [1,6,6]→[6,6]. Reviewed .epic3_complete.json: heatmaps with token labels, graceful error handling. Abstract mathematics now visual—students would see attention patterns.",
      "felixQuotes": [
        "Let visualization specialist choose appropriate plot types and colors",
        "Focus on educational clarity"
      ]
    },
    "teamLead": {
      "narrative": "Read .epic1 and .epic2 completion files for context. Spawned Visualization and Notebook Integration specialists with clear missions: implement 4 visualization functions, handle batch squeezing, show token labels. Specialists resolved dimension challenges and tested with Epic 2 outputs. Validated by running notebooks—heatmaps displayed attention patterns clearly. Compiled .epic3_complete.json.",
      "decisions": [
        "Spawn Visualization Specialist and Notebook Integration Specialist",
        "Handle batch dimension squeezing [1, 6, 6] → [6, 6] for 2D plots",
        "Display token labels consistently across all visualizations",
        "Allow specialists to choose plot types (heatmaps, bar charts, etc.)",
        "Ensure graceful error handling for missing data",
        "Test integration with Epic 2's actual outputs"
      ]
    },
    "specialists": [
      {
        "role": "Visualization Specialist",
        "narrative": "Implemented four matplotlib visualizations: QKV projections (multi-panel heatmaps), attention scores (diverging colormap), attention weights ('YlOrRd' with annotations summing to 1.0), attended values (combined view). Handled batch dimension [1,6,6]→[6,6] via squeezing with validation. Token labels on axes, clear titles. Educational clarity paramount—instant visual understanding.",
        "challenges": [
          "Handling batch dimension squeezing [1, 6, 6] → [6, 6]",
          "Choosing intuitive color schemes for different plot types",
          "Making attention patterns immediately understandable",
          "Displaying token labels clearly without cluttering plots"
        ],
        "solutions": [
          "Implemented tensor.squeeze(0) with shape validation",
          "Used 'YlOrRd' colormap for attention weights (intuitive intensity)",
          "Added value annotations to heatmaps showing exact attention weights",
          "Positioned token labels on both axes with clear fontsize"
        ]
      },
      {
        "role": "Notebook Integration Specialist",
        "narrative": "Tested visualizations with Epic 2 outputs in Jupyter, verified plt.show() calls and inline display. Added error handling for wrong shapes and None data. Ran complete_lesson.ipynb end-to-end—perfect flow showing cause-effect. Updated imports in both notebooks. All integration tests passed successfully.",
        "challenges": [
          "Ensuring inline display in Jupyter notebooks",
          "Handling errors gracefully without breaking notebook flow",
          "Testing with Epic 2's actual tensor outputs",
          "Verifying imports worked across both notebooks"
        ],
        "solutions": [
          "Verified all functions call plt.show() at the end",
          "Added shape validation and None checks with clear error messages",
          "Ran complete_lesson.ipynb end-to-end with Epic 2's outputs",
          "Updated imports in both notebooks and verified module paths"
        ]
      }
    ]
  },
  "completionMetrics": {
    "filesCreated": 1,
    "linesOfCode": 380,
    "visualizationFunctions": 4,
    "plotsGenerated": 6
  },
  "handoffInfo": {
    "keyDeliverables": [
      "src/visualizations.py fully implemented",
      "visualize_qkv_projections() with multi-panel heatmaps",
      "visualize_attention_scores() with diverging colormap",
      "visualize_attention_weights() with 'YlOrRd' and annotations",
      "visualize_attended_values() showing weights and aggregation",
      "Batch dimension handling [1, 6, 6] → [6, 6]",
      "Token labels displayed on all plots",
      ".epic3_complete.json with function signatures"
    ],
    "nextEpicDependencies": [
      "Epic 4 can use visualizations for debugging evaluation",
      "Epic 5 visualizations work with model comparison outputs",
      "Epic 6 documentation should reference visualization capabilities"
    ]
  }
}
